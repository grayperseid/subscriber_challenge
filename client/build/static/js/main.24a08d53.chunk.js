(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(25),l=n.n(c),r=n(2),i=n(26),o=n(3),d=n(8),b=n(9),u=n(15),j=n(6),x=n.n(j),m=n(0),h=function(e){return Object(m.jsxs)("svg",{className:x()("animate-spin",e.className,"h-5 w-5","text-".concat(e.color)),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(m.jsx)("circle",{className:"opacity-25",cx:12,cy:12,r:10,stroke:"currentColor",strokeWidth:4}),Object(m.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})};h.defaultProps={color:"gray-900",className:void 0};var p=h;function v(e){var t=e.children,n=e.className,s=e.loading,a=e.disabled,c=Object(u.a)(e,["children","className","loading","disabled"]);return Object(m.jsxs)("button",Object(b.a)(Object(b.a)({type:"button",className:x()("relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",n),disabled:a||s},c),{},{children:[s&&Object(m.jsx)(p,{className:"mr-3",color:"white"}),t]}))}function f(e){var t=e.children,n=e.className,s=e.loading,a=e.disabled,c=Object(u.a)(e,["children","className","loading","disabled"]);return Object(m.jsxs)("button",Object(b.a)(Object(b.a)({type:"button",className:x()("relative inline-flex items-center px-4 py-2 border border-blue-300 text-sm font-medium rounded-md bg-blue-500 hover:bg-blue-700 text-white",n),disabled:a||s},c),{},{children:[s&&Object(m.jsx)(p,{className:"mr-3",color:"white"}),t]}))}function g(e){var t=e.children;return Object(m.jsx)("div",{className:"relative p-6 flex-auto",children:t})}function O(e){var t=e.children;return Object(m.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:t})}function y(e){var t=e.modalTitle,n=e.children,s=e.showModal,a=e.onCloseModal;return Object(m.jsx)(m.Fragment,{children:s?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(m.jsx)("div",{className:"relative my-6 mx-auto w-full max-w-md",children:Object(m.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(m.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[Object(m.jsx)("h3",{className:"text-2xl font-semibold",children:t}),Object(m.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:a,children:Object(m.jsx)("span",{className:"bg-transparent text-black opacity-3 h-6 w-6 text-1xl block outline-none focus:outline-none",children:"\xd7"})})]}),n]})})}),Object(m.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null})}var w=n(46),N=function(e){var t=e.isOpen,n=e.onClose,a=e.onSuccess,c=Object(s.useState)(!1),l=Object(o.a)(c,2),r=l[0],i=l[1],d=Object(s.useState)(""),b=Object(o.a)(d,2),u=b[0],j=b[1],x=Object(s.useState)(""),h=Object(o.a)(x,2),p=h[0],N=h[1],C=Object(s.useState)(""),k=Object(o.a)(C,2),S=k[0],M=k[1],R=function(e){var t=e.target,n=t.name,s=t.value;"email"===n?j(s):"name"===n&&N(s)};return Object(m.jsx)(y,{modalTitle:"Add Subscriber",showModal:t,onCloseModal:n,children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(g,{children:[S&&Object(m.jsx)("div",{style:{color:"red"},children:S}),Object(m.jsxs)("form",{className:"my-4 text-blueGray-500 text-lg leading-relaxed",children:[Object(m.jsxs)("div",{className:"mb-4",children:[Object(m.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email*"}),Object(m.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",name:"email",type:"email",placeholder:"rickc137@citadel.com",onChange:R,value:u})]}),Object(m.jsxs)("div",{className:"mb-4",children:[Object(m.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Name"}),Object(m.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",name:"name",type:"text",placeholder:"Rick Sanchez",onChange:R,value:p})]})]})]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(v,{className:"background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1",type:"button",onClick:n,children:"Cancel"}),Object(m.jsx)(f,{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold uppercase",type:"button",onClick:function(){var e={email:u,name:p};i(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={"Content-Type":"application/json"};return w.post("/api/subscribers",e,{headers:t})}(e).then((function(){a()})).catch((function(e){var t,n,s=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Unable to add subscriber, please try again.";M(s)})).finally((function(){i(!1)}))},loading:r,children:"Add Subscriber"})]})]})})},C=function(e){var t=e.isOpen,n=e.onSuccess,a=e.onClose,c=e.subscriberId,l=e.status,r=Object(s.useState)(!1),i=Object(o.a)(r,2),d=i[0],b=i[1],u=Object(s.useState)(""),j=Object(o.a)(u,2),x=j[0],h=j[1],p="active"===l?"Unsubscribe":"Resubscribe",N="active"===l?"Are you sure you'd like to unsubscribe this subscriber?":"Are you sure you'd like to resubscribe this subscriber?",C="active"===l?"Unsubscribe":"Resubscribe";return Object(m.jsx)(y,{modalTitle:p,showModal:t,onCloseModal:a,children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(g,{children:[x&&Object(m.jsx)("div",{style:{color:"red"},children:x}),N]}),Object(m.jsxs)(O,{children:[Object(m.jsx)(v,{className:"mx-2",onClick:a,children:"Cancel"}),Object(m.jsx)(f,{type:"primary",loading:d,onClick:function(){var e={status:"active"===l?"inactive":"active"};b(!0),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"Content-Type":"application/json"};return w.patch("/api/subscribers/".concat(e),t,{headers:n})}(c,e).then((function(){n()})).catch((function(e){var t,n,s=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Unable to update subscriber, please try again.";h(s)})).finally((function(){b(!1)}))},children:C})]})]})})};var k=function(e){var t=e.value,n=t?t.toLowerCase():"unknown";return Object(m.jsx)("span",{className:x()("px-3 py-1 uppercase leading-wide font-bold text-xs rounded-full shadow-sm",n.startsWith("active")?"bg-green-100 text-green-800":null,n.startsWith("inactive")?"bg-yellow-100 text-yellow-800":null),children:n})},S=function(e){var t=e.subscribers,n=e.onChangeStatusSelected;return Object(m.jsx)("div",{className:"flex flex-col",children:Object(m.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(m.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(m.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(m.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(m.jsx)("thead",{className:"bg-gray-50",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(m.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),Object(m.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Object(m.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(m.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(m.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(m.jsx)("div",{className:"text-sm text-gray-900",children:e.name})}),Object(m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(m.jsx)("div",{className:"text-sm text-gray-900",children:e.email})}),Object(m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(m.jsx)(k,{value:e.status})}),Object(m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(m.jsx)("button",{className:"text-primary-gold-600 hover:text-primary-gold-900 underline",onClick:function(){return n(e.id,e.status)},children:"active"===e.status?"Unsubscribe":"Subscribe"})})]},e.id)}))})]})})})})})};S.defaultProps={subscribers:[],onChangeStatusSelected:function(){}};var M=S,R=Object(m.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),z=Object(m.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),P=function(e){var t=e.pagination,n=e.onPageSelected,s=function(){var e=null===t||void 0===t?void 0:t.page,s=null===t||void 0===t?void 0:t.total_pages,c=s>5?5:s,l=1;e>2&&s>5&&(l=e-2);for(var r=[],i=function(t){t<=s&&r.push(Object(m.jsx)("button",{"aria-current":t===e,className:t===e?"z-10 bg-primary-gold-50 border-primary-gold-500 text-primary-gold-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium",onClick:function(){return n(t)},children:t},"page-".concat(t)))},o=l;o<l+c;o++)i(o);return Object(m.jsx)(a.a.Fragment,{children:r})};return function(){var a=e.insideCard,c=null===t||void 0===t?void 0:t.total,l=null===t||void 0===t?void 0:t.page,r=null===t||void 0===t?void 0:t.total_pages,i=l+1>r?r:l+1,o=l-1<1?1:l-1;return Object(m.jsxs)("div",{className:x()("py-3 flex items-center justify-between",a?"bg-white border-t border-gray-200":""),children:[Object(m.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[Object(m.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:function(){return n(o)},children:"Previous"}),Object(m.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:function(){return n(i)},children:"Next"})]}),Object(m.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(m.jsx)("div",{children:Object(m.jsxs)("p",{className:"text-sm text-gray-700",children:[Object(m.jsxs)("span",{className:"font-medium",children:[c,"\xa0"]}),"results"]})}),Object(m.jsx)("div",{children:Object(m.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[Object(m.jsxs)("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:function(){return n(o)},children:[Object(m.jsx)("span",{className:"sr-only",children:"Previous"}),R]}),s(),Object(m.jsxs)("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:function(){return n(i)},children:[Object(m.jsx)("span",{className:"sr-only",children:"Next"}),z]})]})})]})]})}()};P.defaultProps={pagination:{},insideCard:!1};var F=P;n(65);var A=function(){var e=Object(d.c)("page",Object(d.d)(d.a,1)),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(d.c)("perPage",Object(d.d)(d.a,5)),l=Object(o.a)(c,1)[0],r=Object(s.useState)(!1),i=Object(o.a)(r,2),b=i[0],u=i[1],j=Object(s.useState)(""),x=Object(o.a)(j,2),h=x[0],f=x[1],g=Object(s.useState)(""),O=Object(o.a)(g,2),y=O[0],k=O[1],S=Object(s.useState)([]),R=Object(o.a)(S,2),z=R[0],P=R[1],A=Object(s.useState)({}),T=Object(o.a)(A,2),E=T[0],U=T[1],B=Object(s.useState)(!1),G=Object(o.a)(B,2),I=G[0],L=G[1],W=Object(s.useCallback)((function(){var e={page:n,per_page:l};L(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={"Content-Type":"application/json"};return w.get("/api/subscribers",{params:e,headers:t})}(e).then((function(e){var t,n,s=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.subscribers)||[],a=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.pagination)||{};P(s),U(a)})).catch((function(e){var t,n,s=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong";console.error(s)})).finally((function(){L(!1)}))}),[n,l]);return Object(s.useEffect)((function(){W()}),[W]),Object(m.jsx)("div",{className:"min-h-screen bg-gray-100 text-gray-900",children:Object(m.jsxs)("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:[Object(m.jsx)(N,{isOpen:b,onClose:function(){u(!1)},onSuccess:function(){W(),u(!1)}}),Object(m.jsx)(C,{isOpen:""!==h&&""!==y,onClose:function(){f(""),k("")},onSuccess:function(){W(),f(""),k("")},subscriberId:h,status:y}),Object(m.jsxs)("div",{className:"flex justify-between items-center",children:[Object(m.jsxs)("h1",{className:"text-xl font-semibold flex items-center",children:[null===E||void 0===E?void 0:E.total," Subscribers ",I&&Object(m.jsx)(p,{className:"ml-4"})]}),Object(m.jsx)(v,{onClick:function(){u(!0)},children:"Add Subscriber"})]}),Object(m.jsxs)("div",{className:"mt-6",children:[Object(m.jsx)(M,{subscribers:z,onChangeStatusSelected:function(e,t){f(e),k(t)}}),Object(m.jsx)(F,{pagination:E,onPageSelected:function(e){a(e)}})]})]})})};n(66);l.a.render(Object(m.jsx)(i.a,{children:Object(m.jsx)(d.b,{ReactRouterRoute:function(e){var t=e.children,n=Object(r.d)(),s=Object(r.c)();return t({history:a.a.useMemo((function(){return{replace:function(e){n(e,{replace:!0,state:e.state})},push:function(e){n(e,{replace:!1,state:e.state})}}}),[n]),location:s})},children:Object(m.jsx)(A,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.24a08d53.chunk.js.map